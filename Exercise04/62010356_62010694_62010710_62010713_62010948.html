<!DOCTYPE html>
<html lang="en">
  <head>
    <!--
    62010356 นายธนพล วงศ์อาษา
    62010694 นายภากรณ์ ธนประชานนท์
    62010710 นายภูดินันท์ เพ็ญสุข
    62010713 นายภูฟ้า จันทรพัฒน์
    62010948 นายสิรวิชญ์ สุขวัฒนาวิทย์
    -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercise04</title>

    <style>
      a {
        text-decoration: none;
        color: pink;
      }
      button {
        display: block;
      }
      #my-image {
        width: 300px;
        height: 300px;
      }
    </style>
  </head>

  <body>
    <h2>My First JavaScript</h2>
    <button id="date-button">Click me to display Date and Time</button>

    <a id="members-header">Members</a>
    <ul id="member-list"></ul>

    <h1>Snapshots</h1>
    <ul id="pic-list"></ul>

    <img
      id="my-image"
      src="https://media.wired.com/photos/598e35fb99d76447c4eb1f28/master/pass/phonepicutres-TA.jpg"
      alt="default image"
    />

    <script>
      //getting DOM elements
      const dateButton = document.getElementById("date-button");
      const memberHeader = document.getElementById("members-header");
      const memberList = document.getElementById("member-list");
      const picList = document.getElementById("pic-list");
      const myImage = document.getElementById("my-image");

      // changing button text color
      const buttonStyles = [
        {
          backgroundColor: "red",
          color: "white",
        },
        {
          backgroundColor: "green",
          color: "white",
        },
        {
          backgroundColor: "blue",
          color: "yellow",
        },
        {
          backgroundColor: "yellow",
          color: "purple",
        },
        {
          backgroundColor: "white",
          color: "red",
        },
        {
          backgroundColor: "",
          color: "",
        },
      ];
      let buttonStyleIndex = 0;
      let showDateTime = false;

      //same as 
      //dateButton.onclick = () => {};
      dateButton.addEventListener("click", () => {
        // initial Date Time only once
        if (!showDateTime) {
          showDateTime = true;
          dateButton.textContent = new Date();
        }
        dateButton.style.backgroundColor = buttonStyles[buttonStyleIndex].backgroundColor;
        dateButton.style.color = buttonStyles[buttonStyleIndex].color;
        buttonStyleIndex = (buttonStyleIndex + 1) % buttonStyles.length;
      });

      //styling ':hover' with js
      memberHeader.addEventListener("mouseenter", () => {
        memberHeader.style.backgroundColor = "yellow";
        memberHeader.style.color = "blue";
      });
      memberHeader.addEventListener("mouseleave", () => {
        memberHeader.style.backgroundColor = "";
        memberHeader.style.color = "";
      });

      //toggle member display
      const members = [
        "นายธนพล วงศ์อาษา, ID: 62010356",
        "นายภากรณ์ ธนประชานนท์, ID: 62010694",
        "นายภูดินันท์ เพ็ญสุข, ID: 62010710",
        "นายภูฟ้า จันทรพัฒน์, ID: 62010713",
        "นายสิรวิชญ์ สุขวัฒนาวิทย์, ID: 62010948",
      ];
      let showMember = false;
      memberHeader.addEventListener("click", () => {
        if (showMember) {
          // delete all members
          while (memberList.lastChild) {
            memberList.removeChild(memberList.lastChild);
          }
        } else {
          // add all list each members
          members.forEach((member) => {
            const memberListItem = document.createElement("li");
            memberListItem.textContent = member;
            memberList.appendChild(memberListItem);
          });
        }
        showMember = !showMember;
      });

      //generate image choice list
      const picObjects = [
        {
          alt: "Mini Fireworks",
          src:
            "https://c.tenor.com/8pKynE0mjfAAAAAd/yoimiya-firework-idle-animation-by-tatsuto-genshin-impact.gif",
        },
        {
          alt: "Cute girl",
          src:
            "https://c.tenor.com/SD18fSwSsRgAAAAC/cute-anime.gif",
        },
        {
          alt: "John wick",
          src:
            "https://c.tenor.com/wZnE0pxN5l0AAAAM/john-wick.gif",
        },
        {
          alt: "Buffalo",
          src:
            "https://pbs.twimg.com/media/EQVD0ygVUAEx2GJ.jpg",
        },
      ];

      // similar to foreach but have an index
      picObjects.map((obj, index) => {
        // outer wrapper list tag
        const listItem = document.createElement("li");
        // inner anchor tag
        const innerATag = document.createElement("a");
        // add anchor tag to each list tag
        listItem.appendChild(innerATag);

        // give content text of every anchor tag
        innerATag.textContent = obj.alt;
        innerATag.setAttribute("id", `pic${index}`);

        // If click select anchor tag, it will set the image
        innerATag.addEventListener("click", () => {
          myImage.setAttribute("src", obj.src);
          myImage.setAttribute("alt", obj.alt);
        });

        // append all list tags to picList
        picList.appendChild(listItem);
      });
    </script>
  </body>
</html>
